[tox]
<<<<<<< HEAD
envlist = py27,py36,pypy,{py27,py36}-flake8
||||||| merged common ancestors
envlist = py27,py36,pypy
=======
envlist = py27,py35,py36,py37,pypy,{py27,py35,py36,py37}-flake8,{py35,py36,py37}-mypy
>>>>>>> upstream-releases
skipsdist=True

[testenv]
deps =
  pytest
  pytest-cov
  mock
  hypothesis

<<<<<<< HEAD
commands = pytest --cov {posargs}
||||||| merged common ancestors
commands =
  pytest --cov {posargs}
  flake8 --append-config=flake8.ini
=======
commands = pytest {posargs}
>>>>>>> upstream-releases

passenv =
  HYPOTHESIS_PROFILE

<<<<<<< HEAD
[testenv:py27-flake8]
deps = -r requirements_flake8.txt
commands = flake8 --append-config=py27-flake8.ini {posargs}

[testenv:py36-flake8]
deps = -r requirements_flake8.txt
commands = flake8 --append-config=py36-flake8.ini {posargs}
||||||| merged common ancestors
[flake8]
exclude = .tox,html5lib,third_party,pywebsocket,six,_venv,webencodings,wptserve/docs,wptserve/tests/functional/docroot/,wpt,wptrunner
=======
[testenv:py27-flake8]
deps = -rrequirements_flake8.txt
commands = flake8 --append-config={toxinidir}/py27-flake8.ini {posargs}

[testenv:py35-flake8]
deps = -rrequirements_flake8.txt
commands = flake8 --append-config={toxinidir}/py36-flake8.ini {posargs}

[testenv:py36-flake8]
deps = -rrequirements_flake8.txt
commands = flake8 --append-config={toxinidir}/py36-flake8.ini {posargs}

[testenv:py37-flake8]
deps = -rrequirements_flake8.txt
commands = flake8 --append-config={toxinidir}/py36-flake8.ini {posargs}

[testenv:py35-mypy]
deps = -rrequirements_mypy.txt
changedir = {toxinidir}/..
commands =
  mypy --config-file={toxinidir}/mypy.ini --no-incremental --py2 -p tools.manifest -p tools.lint -p tools.gitignore

[testenv:py36-mypy]
deps = -rrequirements_mypy.txt
changedir = {toxinidir}/..
commands =
  mypy --config-file={toxinidir}/mypy.ini --no-incremental --py2 -p tools.manifest -p tools.lint -p tools.gitignore

[testenv:py37-mypy]
deps = -rrequirements_mypy.txt
changedir = {toxinidir}/..
commands =
  mypy --config-file={toxinidir}/mypy.ini --no-incremental --py2 -p tools.manifest -p tools.lint -p tools.gitignore
>>>>>>> upstream-releases
